<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Code development &mdash; GridGen 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="GridGen 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="How to run the code" href="../HowToRun/contents.html" />
    <link rel="prev" title="Project description" href="../PrjDescription/contents.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../HowToRun/contents.html" title="How to run the code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../PrjDescription/contents.html" title="Project description"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GridGen 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="code-development">
<h1>Code development<a class="headerlink" href="#code-development" title="Permalink to this headline">¶</a></h1>
<div class="section" id="gridgen-code-summary">
<h2>1. GridGen Code summary<a class="headerlink" href="#gridgen-code-summary" title="Permalink to this headline">¶</a></h2>
<p>The present project is to make a grid-generator for 3-D computational domain around a modified NACA 00xx series airfoil in a channel. The assigned project is inherently aimed at 2-D grid. However, the currently built GridGen code has a capability of 3-D grid generation.</p>
<p>The source code contains two directories, &#8216;io&#8217;, and &#8216;main&#8217;, for input/output related sources and grid-setup related sources, respectively. &#8216;CMakeLists.txt&#8217; file is also included for cmake compiling.</p>
<div class="highlight-python"><pre>$ cd GridGen/CODEdev/src/
$ ls
$ CMakeLists.txt  io  main</pre>
</div>
<p>The <strong>io</strong> folder has <strong>io.F90</strong> file which contains <strong>ReadGridInput()</strong> and <strong>WriteTecPlot()</strong> subroutines. It also includes <strong>input</strong> directory which contains default <strong>input.dat</strong> file.</p>
<p>The <strong>main</strong> folder is only used for containing grid-setup related source files. The main routine is run by <strong>main.F90</strong> which calls important subroutines from <strong>main</strong> folder itself and <strong>io</strong> folder when needed. All the fortran source files <strong>main</strong> folder contains are listed below:</p>
<div class="highlight-python"><pre>&gt; GridSetup.F90
&gt; GridTransform.F90
&gt; GridTransformSetup.F90
&gt; main.F90
&gt; Parameters.F90
&gt; SimulationSetup.F90
&gt; SimulationVars.F90</pre>
</div>
</div>
<div class="section" id="code-details">
<h2>2. Code details<a class="headerlink" href="#code-details" title="Permalink to this headline">¶</a></h2>
<p>The source code shown below is <strong>main.F90</strong> and it calls skeletal subroutines for generating grid structure. The main features of the main code is to make initialized variable arrays and read input and write output files:</p>
<div class="highlight-python"><pre>PROGRAM main
   USE SimulationSetup_m, ONLY: InitializeCommunication
   USE GridSetup_m, ONLY: InitializeGrid
   USE GridTransform_m, ONLY: GridTransform
   USE io_m, ONLY: WriteTecPlot, filenameLength
   USE Parameters_m, ONLY: wp

   IMPLICIT NONE

   CHARACTER(LEN=filenameLength) :: outputfile = 'output.tec'

   CALL InitializeCommunication
   ! Make initial condition for grid point alignment
   ! Using Algebraic method
   CALL InitializeGrid
   ! Use Elliptic grid points
   CALL GridTransform
   CALL WriteTecPlot(outputfile,'"I","J","K","Jacobian"')
END PROGRAM main</pre>
</div>
<p>The <strong>main.F90</strong> file first refers to <strong>InitializeGrid</strong> subroutine defined in <strong>GridSetup.F90</strong> file. The main function of this routine is to call again multiple subroutines defined in same file. The subroutine definition shown below summarizes the how the code runs for the grid initialization:</p>
<div class="highlight-python"><pre>!-----------------------------------------------------------------------------!
   SUBROUTINE InitializeGrid()
!-----------------------------------------------------------------------------!
   USE io_m, ONLY: ReadGridInput
   USE SimulationVars_m, ONLY: imax, jmax, kmax,&amp;
                             xblkV, cy
   IMPLICIT NONE

   ! Create Bottom Edge coordinate values
   CALL ReadGridInput
   CALL InitializeGridArrays
   CALL CreateBottomEdge
   CALL SetEdgePnts
   CALL GridPntsAlgbra
   CALL GenerateInteriorPoints

   END SUBROUTINE</pre>
</div>
<ul class="simple">
<li><strong>CALL ReadGridInput</strong>: Reads important user defined variables and parameters for grid configuration.</li>
<li><strong>CALL InitializeGridArrays</strong>: Initialize the single- and multi-dimensional arrays and set their size with input parameters(for example, imax, jmax, kmax).</li>
<li><strong>CALL CreateBottomEdge</strong>: Generate point values for airfoil geometry.</li>
<li><strong>CALL SetEdgePnts</strong>: Generate grid points along 8 edges of the computational domain.</li>
<li><strong>CALL GridPntsAlgbra</strong>: Based on the edge points, this routine will distribute grid points located on each 6 surfaces of the computational domain.</li>
<li><strong>CALL GenerateInteriorPoints</strong>: Based on grid points along the edges and surfaces, this routine will create interior grid points that are aligned with user-defined grid point interpolations.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Code development</a><ul>
<li><a class="reference internal" href="#gridgen-code-summary">1. GridGen Code summary</a></li>
<li><a class="reference internal" href="#code-details">2. Code details</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../PrjDescription/contents.html"
                        title="previous chapter">Project description</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../HowToRun/contents.html"
                        title="next chapter">How to run the code</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/CodeDevel/contents.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../HowToRun/contents.html" title="How to run the code"
             >next</a> |</li>
        <li class="right" >
          <a href="../PrjDescription/contents.html" title="Project description"
             >previous</a> |</li>
        <li><a href="../index.html">GridGen 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Sayop Kim.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>